<!DOCTYPE html>
<html>
<head>
<title>Hungry Horace: Routine at 6000</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../style.css" />

</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-0">Prev: <a href=""></a></span></td>
<td class="up">Up: <a href="../maps/all.html#24576">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="25167.html">624F</a></span></td>
</tr>
</table>
<div class="description">6000: The game has just loaded</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="4">
<div class="details">

</div>
<table class="input-0">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>

</table>
<table class="output-0">
<tr class="asm-output-header">
<th colspan="2">Output</th>
</tr>

</table>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24576"></span>6000</td>
<td class="instruction">DI</td>
<td class="comment-11" rowspan="1">Disable interrupts.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24577"></span>6001</td>
<td class="instruction">LD A,($5C78)</td>
<td class="comment-11" rowspan="9">Initialise the pseudo-random number address.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24580"></span>6004</td>
<td class="instruction">LD L,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24581"></span>6005</td>
<td class="instruction">AND $1F</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24583"></span>6007</td>
<td class="instruction">LD H,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24584"></span>6008</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24585"></span>6009</td>
<td class="instruction">LD L,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24586"></span>600A</td>
<td class="instruction">AND $1F</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24588"></span>600C</td>
<td class="instruction">LD H,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24589"></span>600D</td>
<td class="instruction">LD (<a href="31847.html">$7C67</a>),HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24592"></span>6010</td>
<td class="instruction">LD HL,<a href="31850.html">$7C6A</a></td>
<td class="comment-11" rowspan="2">Initialise the 'T' pressed indicator to 'off' (bit 4 set).</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24595"></span>6013</td>
<td class="instruction">LD (HL),$10</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24597"></span>6015</td>
<td class="instruction">LD HL,<a href="31849.html">$7C69</a></td>
<td class="comment-11" rowspan="2">Initialise the sound indicator to 'on'.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24600"></span>6018</td>
<td class="instruction">LD (HL),$1F</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<span id="24602"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="26426.html">673A</a> when a game has ended.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24602"></span>601A</td>
<td class="instruction">LD HL,$5800</td>
<td class="comment-11" rowspan="5">INK 7: PAPER 7</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24605"></span>601D</td>
<td class="instruction">LD DE,$5801</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24608"></span>6020</td>
<td class="instruction">LD BC,$02FF</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24611"></span>6023</td>
<td class="instruction">LD (HL),$3F</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24613"></span>6025</td>
<td class="instruction">LDIR</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24615"></span>6027</td>
<td class="instruction">LD HL,$4000</td>
<td class="comment-11" rowspan="5">Clear the display file.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24618"></span>602A</td>
<td class="instruction">LD DE,$4001</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24621"></span>602D</td>
<td class="instruction">LD BC,$17FF</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24624"></span>6030</td>
<td class="instruction">LD (HL),$00</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24626"></span>6032</td>
<td class="instruction">LDIR</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24628"></span>6034</td>
<td class="instruction">LD HL,$5800</td>
<td class="comment-11" rowspan="5">INK 0: PAPER 7</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24631"></span>6037</td>
<td class="instruction">LD DE,$5801</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24634"></span>603A</td>
<td class="instruction">LD BC,$02FF</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24637"></span>603D</td>
<td class="instruction">LD (HL),$38</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24639"></span>603F</td>
<td class="instruction">LDIR</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24641"></span>6041</td>
<td class="instruction">LD A,$00</td>
<td class="comment-11" rowspan="2">Signal demo mode.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24643"></span>6043</td>
<td class="instruction">LD (<a href="27403.html">$6B0B</a>),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24646"></span>6046</td>
<td class="instruction">LD HL,$008C</td>
<td class="comment-11" rowspan="2">Initialise the title screen countdown timer.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24649"></span>6049</td>
<td class="instruction">LD (<a href="27400.html">$6B08</a>),HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24652"></span>604C</td>
<td class="instruction">LD DE,$40A0</td>
<td class="comment-11" rowspan="4">Print 'HUNGRY' in big letters.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24655"></span>604F</td>
<td class="instruction">LD HL,<a href="28303.html">$6E8F</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24658"></span>6052</td>
<td class="instruction">LD BC,$00A0</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24661"></span>6055</td>
<td class="instruction">CALL <a href="27982.html">$6D4E</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24664"></span>6058</td>
<td class="instruction">LD DE,$4880</td>
<td class="comment-11" rowspan="4">Print 'HORACE' in big letters.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24667"></span>605B</td>
<td class="instruction">LD HL,<a href="28463.html">$6F2F</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24670"></span>605E</td>
<td class="instruction">LD BC,$00A0</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24673"></span>6061</td>
<td class="instruction">CALL <a href="27982.html">$6D4E</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24676"></span>6064</td>
<td class="instruction">LD A,(<a href="27403.html">$6B0B</a>)</td>
<td class="comment-11" rowspan="1">Pick up the game mode indicator.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24679"></span>6067</td>
<td class="instruction">PUSH AF</td>
<td class="comment-11" rowspan="1">Save it briefly.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24680"></span>6068</td>
<td class="instruction">LD A,$01</td>
<td class="comment-11" rowspan="2">Signal game mode (to force the copyright message to be printed).</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24682"></span>606A</td>
<td class="instruction">LD (<a href="27403.html">$6B0B</a>),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24685"></span>606D</td>
<td class="instruction">LD HL,$50C0</td>
<td class="comment-11" rowspan="1">This is the display file address for the copyright message.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24688"></span>6070</td>
<td class="instruction">CALL <a href="27663.html">$6C0F</a></td>
<td class="comment-11" rowspan="1">Set <span class="register">HL'</span> to the corresponding attribute file address (unnecessarily).</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24691"></span>6073</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-11" rowspan="1">Transfer the display file address to <span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24692"></span>6074</td>
<td class="instruction">LD HL,<a href="27303.html">$6AA7</a></td>
<td class="comment-11" rowspan="7">Print 'Copyright &#169; 1982 Beam Software' and 'PRESS ANY KEY TO START PLAY'.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24695"></span>6077</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24696"></span>6078</td>
<td class="instruction">CP $FF</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24698"></span>607A</td>
<td class="instruction">JR Z,<a href="24576.html#24706">$6082</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24700"></span>607C</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24701"></span>607D</td>
<td class="instruction">CALL <a href="27464.html#27471">$6B4F</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24704"></span>6080</td>
<td class="instruction">JR <a href="24576.html#24695">$6077</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24706"></span>6082</td>
<td class="instruction">POP AF</td>
<td class="comment-11" rowspan="2">Restore the game mode indicator.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24707"></span>6083</td>
<td class="instruction">LD (<a href="27403.html">$6B0B</a>),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24710"></span>6086</td>
<td class="instruction">LD HL,$58A0</td>
<td class="comment-11" rowspan="18">Change the colour of the words 'HUNGRY HORACE' on the title screen.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24713"></span>6089</td>
<td class="instruction">LD DE,$58A1</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24716"></span>608C</td>
<td class="instruction">LD BC,$009F</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24719"></span>608F</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24720"></span>6090</td>
<td class="instruction">INC A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24721"></span>6091</td>
<td class="instruction">AND $3F</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24723"></span>6093</td>
<td class="instruction">OR $38</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24725"></span>6095</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24726"></span>6096</td>
<td class="instruction">LDIR</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24728"></span>6098</td>
<td class="instruction">LD HL,$5980</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24731"></span>609B</td>
<td class="instruction">LD DE,$5981</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24734"></span>609E</td>
<td class="instruction">LD BC,$009F</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24737"></span>60A1</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24738"></span>60A2</td>
<td class="instruction">INC A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24739"></span>60A3</td>
<td class="instruction">AND $3F</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24741"></span>60A5</td>
<td class="instruction">OR $38</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24743"></span>60A7</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24744"></span>60A8</td>
<td class="instruction">LDIR</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24746"></span>60AA</td>
<td class="instruction">CALL <a href="27255.html">$6A77</a></td>
<td class="comment-11" rowspan="1">Make the title screen sound effect.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24749"></span>60AD</td>
<td class="instruction">LD HL,(<a href="27400.html">$6B08</a>)</td>
<td class="comment-11" rowspan="3">Decrement the title screen countdown timer.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24752"></span>60B0</td>
<td class="instruction">DEC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24753"></span>60B1</td>
<td class="instruction">LD (<a href="27400.html">$6B08</a>),HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24756"></span>60B4</td>
<td class="instruction">LD A,H</td>
<td class="comment-11" rowspan="2">Is it zero now?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24757"></span>60B5</td>
<td class="instruction">OR L</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24758"></span>60B6</td>
<td class="instruction">JR Z,<a href="24576.html#24777">$60C9</a></td>
<td class="comment-11" rowspan="1">Jump if so.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24760"></span>60B8</td>
<td class="instruction">LD A,$00</td>
<td class="comment-11" rowspan="2">Read the keyboard.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24762"></span>60BA</td>
<td class="instruction">IN A,($FE)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24764"></span>60BC</td>
<td class="instruction">AND $1F</td>
<td class="comment-11" rowspan="2">Is a key being pressed?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24766"></span>60BE</td>
<td class="instruction">CP $1F</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24768"></span>60C0</td>
<td class="instruction">JR Z,<a href="24576.html#24710">$6086</a></td>
<td class="comment-11" rowspan="1">Jump if not.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24770"></span>60C2</td>
<td class="instruction">LD A,$01</td>
<td class="comment-11" rowspan="2">Signal that a game (not demo mode) has started.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24772"></span>60C4</td>
<td class="instruction">LD (<a href="27403.html">$6B0B</a>),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24775"></span>60C7</td>
<td class="instruction">JR <a href="24576.html#24777">$60C9</a></td>
<td class="comment-11" rowspan="1">This instruction is redundant.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24777"></span>60C9</td>
<td class="instruction">LD A,$FF</td>
<td class="comment-11" rowspan="2">Initialise the maze number.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24779"></span>60CB</td>
<td class="instruction">LD (<a href="31843.html">$7C63</a>),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24782"></span>60CE</td>
<td class="instruction">LD A,$08</td>
<td class="comment-11" rowspan="2">Initialise the game speed parameter.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24784"></span>60D0</td>
<td class="instruction">LD (<a href="31842.html">$7C62</a>),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24787"></span>60D3</td>
<td class="instruction">LD A,$03</td>
<td class="comment-11" rowspan="2">Initialise the number of lives remaining.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24789"></span>60D5</td>
<td class="instruction">LD (<a href="31864.html">$7C78</a>),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24792"></span>60D8</td>
<td class="instruction">LD HL,$0000</td>
<td class="comment-11" rowspan="2">Initialise the score.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24795"></span>60DB</td>
<td class="instruction">LD (<a href="31859.html">$7C73</a>),HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24798"></span>60DE</td>
<td class="instruction">LD A,$00</td>
<td class="comment-11" rowspan="2">Initialise the active guard counter.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24800"></span>60E0</td>
<td class="instruction">LD (<a href="27402.html">$6B0A</a>),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24803"></span>60E3</td>
<td class="instruction">LD (<a href="31863.html">$7C77</a>),A</td>
<td class="comment-11" rowspan="1">Initialise the extra life indicator.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24806"></span>60E6</td>
<td class="instruction">CALL <a href="27170.html">$6A22</a></td>
<td class="comment-11" rowspan="1">Initialise the guard countdown timers.</td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<span id="24809"></span>
<div class="comments">
<div class="paragraph">
This entry point is used when moving from one maze to the next by the routines at <a href="26426.html">673A</a> (in demo mode) and <a href="27166.html">6A1E</a> (in game mode).
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24809"></span>60E9</td>
<td class="instruction">LD A,(<a href="31843.html">$7C63</a>)</td>
<td class="comment-11" rowspan="1">Pick up the current maze number (0-3).</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24812"></span>60EC</td>
<td class="instruction">INC A</td>
<td class="comment-11" rowspan="2">Is it 0, 1 or 2?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24813"></span>60ED</td>
<td class="instruction">AND $FC</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24815"></span>60EF</td>
<td class="instruction">JR Z,<a href="24576.html#24828">$60FC</a></td>
<td class="comment-11" rowspan="1">Jump if so.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24817"></span>60F1</td>
<td class="instruction">LD A,(<a href="31842.html">$7C62</a>)</td>
<td class="comment-11" rowspan="5">Decrement the game speed parameter (unless it's already 1). This increases the speed of the game.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24820"></span>60F4</td>
<td class="instruction">DEC A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24821"></span>60F5</td>
<td class="instruction">JR NZ,<a href="24576.html#24825">$60F9</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24823"></span>60F7</td>
<td class="instruction">LD A,$01</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24825"></span>60F9</td>
<td class="instruction">LD (<a href="31842.html">$7C62</a>),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24828"></span>60FC</td>
<td class="instruction">LD A,(<a href="31843.html">$7C63</a>)</td>
<td class="comment-11" rowspan="4">Increment the maze number.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24831"></span>60FF</td>
<td class="instruction">INC A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24832"></span>6100</td>
<td class="instruction">AND $03</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24834"></span>6102</td>
<td class="instruction">LD (<a href="31843.html">$7C63</a>),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24837"></span>6105</td>
<td class="instruction">LD A,(<a href="31843.html">$7C63</a>)</td>
<td class="comment-11" rowspan="1">Pick up the current maze number.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24840"></span>6108</td>
<td class="instruction">CP $00</td>
<td class="comment-11" rowspan="1">Is it maze 1?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24842"></span>610A</td>
<td class="instruction">JR NZ,<a href="24576.html#24855">$6117</a></td>
<td class="comment-11" rowspan="1">Jump if not.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24844"></span>610C</td>
<td class="instruction">LD HL,<a href="28631.html">$6FD7</a></td>
<td class="comment-11" rowspan="2">Copy the tunnel offset and bell, initial guard and entrance locations for maze 1 to <a href="28623.html">6FCF</a>.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24847"></span>610F</td>
<td class="instruction">CALL <a href="27294.html">$6A9E</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24850"></span>6112</td>
<td class="instruction">LD HL,<a href="29431.html">$72F7</a></td>
<td class="comment-11" rowspan="1">Point <span class="register">HL</span> at the layout data for maze 1.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24853"></span>6115</td>
<td class="instruction">JR <a href="24576.html#24896">$6140</a></td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24855"></span>6117</td>
<td class="instruction">CP $01</td>
<td class="comment-11" rowspan="1">Is it maze 2?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24857"></span>6119</td>
<td class="instruction">JR NZ,<a href="24576.html#24870">$6126</a></td>
<td class="comment-11" rowspan="1">Jump if not.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24859"></span>611B</td>
<td class="instruction">LD HL,<a href="28639.html">$6FDF</a></td>
<td class="comment-11" rowspan="2">Copy the tunnel offset and bell, initial guard and entrance locations for maze 2 to <a href="28623.html">6FCF</a>.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24862"></span>611E</td>
<td class="instruction">CALL <a href="27294.html">$6A9E</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24865"></span>6121</td>
<td class="instruction">LD HL,<a href="28663.html">$6FF7</a></td>
<td class="comment-11" rowspan="1">Point <span class="register">HL</span> at the layout data for maze 2.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24868"></span>6124</td>
<td class="instruction">JR <a href="24576.html#24896">$6140</a></td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24870"></span>6126</td>
<td class="instruction">CP $02</td>
<td class="comment-11" rowspan="1">Is it maze 3?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24872"></span>6128</td>
<td class="instruction">JR NZ,<a href="24576.html#24885">$6135</a></td>
<td class="comment-11" rowspan="1">Jump if not.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24874"></span>612A</td>
<td class="instruction">LD HL,<a href="28647.html">$6FE7</a></td>
<td class="comment-11" rowspan="2">Copy the tunnel offset and bell, initial guard and entrance locations for maze 3 to <a href="28623.html">6FCF</a>.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24877"></span>612D</td>
<td class="instruction">CALL <a href="27294.html">$6A9E</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24880"></span>6130</td>
<td class="instruction">LD HL,<a href="30199.html">$75F7</a></td>
<td class="comment-11" rowspan="1">Point <span class="register">HL</span> at the layout data for maze 3.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24883"></span>6133</td>
<td class="instruction">JR <a href="24576.html#24896">$6140</a></td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24885"></span>6135</td>
<td class="instruction">LD HL,<a href="28655.html">$6FEF</a></td>
<td class="comment-11" rowspan="2">Copy the tunnel offset and bell, initial guard and entrance locations for maze 4 to <a href="28623.html">6FCF</a>.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24888"></span>6138</td>
<td class="instruction">CALL <a href="27294.html">$6A9E</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24891"></span>613B</td>
<td class="instruction">LD HL,<a href="30967.html">$78F7</a></td>
<td class="comment-11" rowspan="1">Point <span class="register">HL</span> at the layout data for maze 4.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24894"></span>613E</td>
<td class="instruction">JR <a href="24576.html#24896">$6140</a></td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24896"></span>6140</td>
<td class="instruction">LD DE,$4000</td>
<td class="comment-11" rowspan="3">Draw the current maze.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24899"></span>6143</td>
<td class="instruction">LD BC,$0300</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24902"></span>6146</td>
<td class="instruction">CALL <a href="27509.html">$6B75</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24905"></span>6149</td>
<td class="instruction">LD A,(<a href="27403.html">$6B0B</a>)</td>
<td class="comment-11" rowspan="1">Pick up the game mode indicator.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24908"></span>614C</td>
<td class="instruction">AND A</td>
<td class="comment-11" rowspan="1">Is it demo mode?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24909"></span>614D</td>
<td class="instruction">JR Z,<a href="24576.html#24932">$6164</a></td>
<td class="comment-11" rowspan="1">Jump if so.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24911"></span>614F</td>
<td class="instruction">LD HL,$4000</td>
<td class="comment-11" rowspan="1">This is the display file address for 'PASSES&#160;&#160;&#160;SCORE&#160;&#160;&#160;&#160;&#160;&#160;&#160;BEST'.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24914"></span>6152</td>
<td class="instruction">CALL <a href="27663.html">$6C0F</a></td>
<td class="comment-11" rowspan="1">Set <span class="register">HL'</span> to the corresponding attribute file address (unnecessarily).</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24917"></span>6155</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-11" rowspan="1">Transfer the display file address to <span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24918"></span>6156</td>
<td class="instruction">LD HL,<a href="31815.html">$7C47</a></td>
<td class="comment-11" rowspan="7">Print 'PASSES&#160;&#160;&#160;SCORE&#160;&#160;&#160;&#160;&#160;&#160;&#160;BEST'.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24921"></span>6159</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24922"></span>615A</td>
<td class="instruction">CP $FF</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24924"></span>615C</td>
<td class="instruction">JR Z,<a href="24576.html#24975">$618F</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24926"></span>615E</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24927"></span>615F</td>
<td class="instruction">CALL <a href="27464.html#27471">$6B4F</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24930"></span>6162</td>
<td class="instruction">JR <a href="24576.html#24921">$6159</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24932"></span>6164</td>
<td class="instruction">LD A,$01</td>
<td class="comment-11" rowspan="2">Signal game mode (to force the 'DEMO MODE' text to be printed).</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24934"></span>6166</td>
<td class="instruction">LD (<a href="27403.html">$6B0B</a>),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24937"></span>6169</td>
<td class="instruction">LD HL,$4000</td>
<td class="comment-11" rowspan="1">This is the display file address for 'DEMO MODE&#160;&#160;PRESS ANY KEY TO PLAY'.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24940"></span>616C</td>
<td class="instruction">CALL <a href="27663.html">$6C0F</a></td>
<td class="comment-11" rowspan="1">Set <span class="register">HL'</span> to the corresponding attribute file address (unnecessarily).</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24943"></span>616F</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-11" rowspan="1">Transfer the display file address to <span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24944"></span>6170</td>
<td class="instruction">LD HL,<a href="27367.html">$6AE7</a></td>
<td class="comment-11" rowspan="7">Print 'DEMO MODE&#160;&#160;PRESS ANY KEY TO PLAY'.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24947"></span>6173</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24948"></span>6174</td>
<td class="instruction">CP $FF</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24950"></span>6176</td>
<td class="instruction">JR Z,<a href="24576.html#24958">$617E</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24952"></span>6178</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24953"></span>6179</td>
<td class="instruction">CALL <a href="27464.html#27471">$6B4F</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24956"></span>617C</td>
<td class="instruction">JR <a href="24576.html#24947">$6173</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24958"></span>617E</td>
<td class="instruction">LD A,$00</td>
<td class="comment-11" rowspan="2">Restore the game mode indicator to demo mode.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24960"></span>6180</td>
<td class="instruction">LD (<a href="27403.html">$6B0B</a>),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24963"></span>6183</td>
<td class="instruction">LD HL,$5800</td>
<td class="comment-11" rowspan="7">Make 'DEMO MODE' flash.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24966"></span>6186</td>
<td class="instruction">LD B,$09</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24968"></span>6188</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24969"></span>6189</td>
<td class="instruction">ADD A,$80</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24971"></span>618B</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24972"></span>618C</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24973"></span>618D</td>
<td class="instruction">DJNZ <a href="24576.html#24968">$6188</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="24975"></span>618F</td>
<td class="instruction">LD HL,(<a href="28623.html#28625">$6FD1</a>)</td>
<td class="comment-11" rowspan="2">Copy the bell location to <a href="31940.html">7CC4</a>.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24978"></span>6192</td>
<td class="instruction">LD (<a href="31940.html">$7CC4</a>),HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24981"></span>6195</td>
<td class="instruction">LD HL,$4007</td>
<td class="comment-11" rowspan="1">This is the display file address for the number of lives remaining.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24984"></span>6198</td>
<td class="instruction">CALL <a href="27663.html">$6C0F</a></td>
<td class="comment-11" rowspan="1">Set <span class="register">HL'</span> to the corresponding attribute file address (unnecessarily).</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24987"></span>619B</td>
<td class="instruction">LD A,(<a href="31864.html">$7C78</a>)</td>
<td class="comment-11" rowspan="1">Pick up the number of lives remaining.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24990"></span>619E</td>
<td class="instruction">ADD A,"0"</td>
<td class="comment-11" rowspan="1">Convert it to the ASCII code for the corresponding digit.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24992"></span>61A0</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-11" rowspan="1">Transfer the display file address to <span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24993"></span>61A1</td>
<td class="instruction">CALL <a href="27464.html#27471">$6B4F</a></td>
<td class="comment-11" rowspan="1">Print the number of lives remaining.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24996"></span>61A4</td>
<td class="instruction">LD HL,$07D0</td>
<td class="comment-11" rowspan="2">Initialise the lunch-drop countdown timer.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="24999"></span>61A7</td>
<td class="instruction">LD (<a href="31845.html">$7C65</a>),HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<span id="25002"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="26426.html">673A</a> after Horace has lost a life.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="25002"></span>61AA</td>
<td class="instruction">LD HL,(<a href="31940.html">$7CC4</a>)</td>
<td class="comment-11" rowspan="1">Pick up the bell location.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25005"></span>61AD</td>
<td class="instruction">LD A,H</td>
<td class="comment-11" rowspan="2">Has Horace sounded the alarm?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25006"></span>61AE</td>
<td class="instruction">OR L</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25007"></span>61AF</td>
<td class="instruction">JR Z,<a href="24576.html#25015">$61B7</a></td>
<td class="comment-11" rowspan="1">Jump if so.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25009"></span>61B1</td>
<td class="instruction">LD HL,(<a href="28623.html#28625">$6FD1</a>)</td>
<td class="comment-11" rowspan="2">Reinitialise the bell location.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25012"></span>61B4</td>
<td class="instruction">LD (<a href="31940.html">$7CC4</a>),HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="25015"></span>61B7</td>
<td class="instruction">LD B,$04</td>
<td class="comment-11" rowspan="1">There are four guards.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="25017"></span>61B9</td>
<td class="instruction">PUSH BC</td>
<td class="comment-11" rowspan="3">Copy the guard's buffer into the temporary location (<a href="28088.html">6DB8</a>).</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25018"></span>61BA</td>
<td class="instruction">CALL <a href="27199.html">$6A3F</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25021"></span>61BD</td>
<td class="instruction">POP BC</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25022"></span>61BE</td>
<td class="instruction">PUSH BC</td>
<td class="comment-11" rowspan="1">Save the guard counter.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25023"></span>61BF</td>
<td class="instruction">SLA B</td>
<td class="comment-11" rowspan="6">Point <span class="register">HL</span> at one of the guard countdown timers at <a href="28070.html">6DA6</a>.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25025"></span>61C1</td>
<td class="instruction">LD C,B</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25026"></span>61C2</td>
<td class="instruction">LD B,$00</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25028"></span>61C4</td>
<td class="instruction">XOR A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25029"></span>61C5</td>
<td class="instruction">LD HL,$6DAE</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25032"></span>61C8</td>
<td class="instruction">SBC HL,BC</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25034"></span>61CA</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="3">Is this guard in play?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25035"></span>61CB</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25036"></span>61CC</td>
<td class="instruction">OR (HL)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25037"></span>61CD</td>
<td class="instruction">JR NZ,<a href="24576.html#25044">$61D4</a></td>
<td class="comment-11" rowspan="1">Jump if not.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25039"></span>61CF</td>
<td class="instruction">LD HL,(<a href="28623.html#28627">$6FD3</a>)</td>
<td class="comment-11" rowspan="1">Pick up the initial guard location for the current maze.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25042"></span>61D2</td>
<td class="instruction">JR <a href="24576.html#25047">$61D7</a></td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="25044"></span>61D4</td>
<td class="instruction">LD HL,(<a href="28623.html#28629">$6FD5</a>)</td>
<td class="comment-11" rowspan="1">Pick up the bell location for the current maze.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="25047"></span>61D7</td>
<td class="instruction">LD (<a href="28088.html">$6DB8</a>),HL</td>
<td class="comment-11" rowspan="2">Initialise the guard's current and new locations.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25050"></span>61DA</td>
<td class="instruction">LD (<a href="28088.html#28092">$6DBC</a>),HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25053"></span>61DD</td>
<td class="instruction">LD HL,<a href="28088.html#28095">$6DBF</a></td>
<td class="comment-11" rowspan="10">Clear the four maze background tiles in the temporary guard buffer.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25056"></span>61E0</td>
<td class="instruction">LD C,$04</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="25058"></span>61E2</td>
<td class="instruction">LD (HL),$3E</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25060"></span>61E4</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25061"></span>61E5</td>
<td class="instruction">LD B,$08</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="25063"></span>61E7</td>
<td class="instruction">LD (HL),$00</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25065"></span>61E9</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25066"></span>61EA</td>
<td class="instruction">DJNZ <a href="24576.html#25063">$61E7</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25068"></span>61EC</td>
<td class="instruction">DEC C</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25069"></span>61ED</td>
<td class="instruction">JR NZ,<a href="24576.html#25058">$61E2</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25071"></span>61EF</td>
<td class="instruction">CALL <a href="27242.html">$6A6A</a></td>
<td class="comment-11" rowspan="1">Copy the guard's buffer back to the original location.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25074"></span>61F2</td>
<td class="instruction">POP BC</td>
<td class="comment-11" rowspan="1">Restore the guard counter to <span class="register">B</span>.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25075"></span>61F3</td>
<td class="instruction">DJNZ <a href="24576.html#25017">$61B9</a></td>
<td class="comment-11" rowspan="1">Jump back to prepare the next guard.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25077"></span>61F5</td>
<td class="instruction">LD HL,(<a href="28623.html#28629">$6FD5</a>)</td>
<td class="comment-11" rowspan="1">Pick up Horace's initial location for the current maze.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25080"></span>61F8</td>
<td class="instruction">LD (<a href="31851.html">$7C6B</a>),HL</td>
<td class="comment-11" rowspan="2">Initialise Horace's current and new locations.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25083"></span>61FB</td>
<td class="instruction">LD (<a href="31853.html">$7C6D</a>),HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25086"></span>61FE</td>
<td class="instruction">LD A,$01</td>
<td class="comment-11" rowspan="2">Initialise Horace's animation frame.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25088"></span>6200</td>
<td class="instruction">LD (<a href="31856.html">$7C70</a>),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25091"></span>6203</td>
<td class="instruction">LD A,(<a href="31842.html">$7C62</a>)</td>
<td class="comment-11" rowspan="2">Initialise the sprite movement timer (using the value of the game speed parameter).</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25094"></span>6206</td>
<td class="instruction">LD (<a href="31841.html">$7C61</a>),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25097"></span>6209</td>
<td class="instruction">LD HL,(<a href="31859.html">$7C73</a>)</td>
<td class="comment-11" rowspan="2">Print the score and make a sound effect.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25100"></span>620C</td>
<td class="instruction">CALL <a href="26017.html#26055">$65C7</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25103"></span>620F</td>
<td class="instruction">LD HL,(<a href="31861.html">$7C75</a>)</td>
<td class="comment-11" rowspan="1">Pick up the high score.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25106"></span>6212</td>
<td class="instruction">LD DE,$4000</td>
<td class="comment-11" rowspan="5">Set <span class="register">DE</span> to the display file address for the high score (in a roundabout way).</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25109"></span>6215</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25110"></span>6216</td>
<td class="instruction">LD BC,$001A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25113"></span>6219</td>
<td class="instruction">ADD HL,BC</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25114"></span>621A</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25115"></span>621B</td>
<td class="instruction">CALL <a href="27425.html">$6B21</a></td>
<td class="comment-11" rowspan="1">Print the high score.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25118"></span>621E</td>
<td class="instruction">LD HL,$0000</td>
<td class="comment-11" rowspan="2">Initialise the guard panic timer.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25121"></span>6221</td>
<td class="instruction">LD (<a href="28078.html">$6DAE</a>),HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25124"></span>6224</td>
<td class="instruction">LD A,$39</td>
<td class="comment-11" rowspan="2">Initialise Horace's attribute byte (INK 1: PAPER 7).</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25126"></span>6226</td>
<td class="instruction">LD (<a href="31857.html">$7C71</a>),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<span id="25129"></span>
<div class="comments">
<div class="paragraph">
Here we enter the main loop.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="25129"></span>6229</td>
<td class="instruction">CALL <a href="25167.html">$624F</a></td>
<td class="comment-11" rowspan="1">Read the keyboard and change Horace's sprite accordingly.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25132"></span>622C</td>
<td class="instruction">CALL <a href="25399.html">$6337</a></td>
<td class="comment-11" rowspan="1">Move Horace and the guards.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25135"></span>622F</td>
<td class="instruction">CALL <a href="25886.html">$651E</a></td>
<td class="comment-11" rowspan="1">Redraw the tiles behind Horace and the guards if they've moved.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25138"></span>6232</td>
<td class="instruction">CALL <a href="26017.html">$65A1</a></td>
<td class="comment-11" rowspan="1">Add to the score if Horace has eaten something.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25141"></span>6235</td>
<td class="instruction">CALL <a href="26146.html">$6622</a></td>
<td class="comment-11" rowspan="1">Draw the guards.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25144"></span>6238</td>
<td class="instruction">CALL <a href="26276.html">$66A4</a></td>
<td class="comment-11" rowspan="1">Check whether Horace has run into a guard.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25147"></span>623B</td>
<td class="instruction">CALL <a href="26657.html">$6821</a></td>
<td class="comment-11" rowspan="1">Draw Horace.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25150"></span>623E</td>
<td class="instruction">CALL <a href="26730.html">$686A</a></td>
<td class="comment-11" rowspan="1">Draw the bell and check whether Horace has sounded the alarm.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25153"></span>6241</td>
<td class="instruction">CALL <a href="26887.html">$6907</a></td>
<td class="comment-11" rowspan="1">Check whether a guard should drop his lunch.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25156"></span>6244</td>
<td class="instruction">CALL <a href="26988.html">$696C</a></td>
<td class="comment-11" rowspan="1">Decrement the guard countdown timers.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25159"></span>6247</td>
<td class="instruction">CALL <a href="27022.html">$698E</a></td>
<td class="comment-11" rowspan="1">Toggle the sound on/off if 'T' is pressed.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25162"></span>624A</td>
<td class="instruction">CALL <a href="27044.html">$69A4</a></td>
<td class="comment-11" rowspan="1">Ring the bell if necessary.</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="25165"></span>624D</td>
<td class="instruction">JR <a href="24576.html#25129">$6229</a></td>
<td class="comment-11" rowspan="1">Jump back to the start of the main loop.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-0">Prev: <a href=""></a></span></td>
<td class="up">Up: <a href="../maps/all.html#24576">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="25167.html">624F</a></span></td>
</tr>
</table>
<footer>
<div class="release">The complete Hungry Horace RAM disassembly 20171205</div>
<div class="copyright">&#169; 1982 Beam Software. &#169; 2017 Richard Dymond.</div>
<div class="created">Created using <a href="http://skoolkit.ca/">SkoolKit</a> 6.1.</div>
</footer>
</body>
</html>